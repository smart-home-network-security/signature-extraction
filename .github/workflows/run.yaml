name: Test script
on: [push]


jobs:

  test-run:
    runs-on: ubuntu-latest
    steps:

      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Install Python packages
        run: pip install -r $GITHUB_WORKSPACE/requirements.txt

      - name: Run main script
        run: python3 $GITHUB_WORKSPACE/scripts/main.py tplink-plug 192.168.1.135 $GITHUB_WORKSPACE/demo/file.pcap -o $GITHUB_WORKSPACE/demo
